{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kalel\\\\Desktop\\\\cero\\\\proyecto_02\\\\frontend\\\\src\\\\pages\\\\turnos\\\\ListadoTurnos.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport TurnoList from '../../components/turnos/TurnoList';\nimport { obtenerTurnos } from '../../api/turnosApi';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport styles from './ListadoTurnos.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ListadoTurnos() {\n  _s();\n  const [turnos, setTurnos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [query, setQuery] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    fetch(location.search);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.search]);\n  async function fetch(params = '') {\n    setLoading(true);\n    try {\n      const r = await obtenerTurnos(params);\n      if (r && r.success) setTurnos(r.data || []);else alert((r === null || r === void 0 ? void 0 : r.error) || 'Error al obtener turnos');\n    } catch (e) {\n      alert(e.message || String(e));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Filtrado local por nombre/apellido\n  const filteredTurnos = turnos.filter(t => {\n    if (!query) return true;\n    const q = query.trim().toLowerCase();\n    const nombre = (t.paciente_nombre || '').toLowerCase();\n    const apellido = (t.paciente_apellido || '').toLowerCase();\n    return nombre.includes(q) || apellido.includes(q) || `${nombre} ${apellido}`.includes(q);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles['listado-turnos-container'],\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: styles['titulo-turnos'],\n      children: \"Turnos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles['controls-row'],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles['search-wrapper'],\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Buscar por nombre o apellido...\",\n          value: query,\n          onChange: e => setQuery(e.target.value),\n          className: styles['search-input']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles['nuevo-turno-container'],\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles['nuevo-turno-btn'],\n          onClick: () => navigate('/turnos/nuevo'),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.icono,\n            children: \"\\uFF0B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), \" Nuevo turno\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles['loading-text'],\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(TurnoList, {\n      turnos: filteredTurnos,\n      onVer: id => navigate(`/turnos/${id}`)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(ListadoTurnos, \"Fy6kKNkD0U3WlMUcBgJifWBql0c=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = ListadoTurnos;\nvar _c;\n$RefreshReg$(_c, \"ListadoTurnos\");","map":{"version":3,"names":["React","useEffect","useState","TurnoList","obtenerTurnos","useNavigate","useLocation","styles","jsxDEV","_jsxDEV","ListadoTurnos","_s","turnos","setTurnos","loading","setLoading","query","setQuery","navigate","location","fetch","search","params","r","success","data","alert","error","e","message","String","filteredTurnos","filter","t","q","trim","toLowerCase","nombre","paciente_nombre","apellido","paciente_apellido","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","onClick","icono","onVer","id","_c","$RefreshReg$"],"sources":["C:/Users/Kalel/Desktop/cero/proyecto_02/frontend/src/pages/turnos/ListadoTurnos.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport TurnoList from '../../components/turnos/TurnoList';\nimport { obtenerTurnos } from '../../api/turnosApi';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport styles from './ListadoTurnos.module.css';\n\nexport default function ListadoTurnos() {\n  const [turnos, setTurnos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [query, setQuery] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    fetch(location.search);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.search]);\n\n  async function fetch(params = '') {\n    setLoading(true);\n    try {\n      const r = await obtenerTurnos(params);\n      if (r && r.success) setTurnos(r.data || []);\n      else alert(r?.error || 'Error al obtener turnos');\n    } catch (e) {\n      alert(e.message || String(e));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Filtrado local por nombre/apellido\n  const filteredTurnos = turnos.filter(t => {\n    if (!query) return true;\n    const q = query.trim().toLowerCase();\n    const nombre = (t.paciente_nombre || '').toLowerCase();\n    const apellido = (t.paciente_apellido || '').toLowerCase();\n    return nombre.includes(q) || apellido.includes(q) || (`${nombre} ${apellido}`).includes(q);\n  });\n\n  return (\n    <div className={styles['listado-turnos-container']}>\n      <h2 className={styles['titulo-turnos']}>Turnos</h2>\n\n      <div className={styles['controls-row']}>\n        <div className={styles['search-wrapper']}>\n          <input\n            placeholder=\"Buscar por nombre o apellido...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            className={styles['search-input']}\n          />\n        </div>\n\n        <div className={styles['nuevo-turno-container']}>\n          <button\n            className={styles['nuevo-turno-btn']}\n            onClick={() => navigate('/turnos/nuevo')}\n          >\n            <span className={styles.icono}>ï¼‹</span> Nuevo turno\n          </button>\n        </div>\n      </div>\n\n      {loading ? <p className={styles['loading-text']}>Cargando...</p> :\n        <TurnoList\n          turnos={filteredTurnos}\n          onVer={(id) => navigate(`/turnos/${id}`)}\n        />\n      }\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}