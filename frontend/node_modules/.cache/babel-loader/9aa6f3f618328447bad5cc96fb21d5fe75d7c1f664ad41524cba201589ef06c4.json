{"ast":null,"code":"import axios from 'axios';\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://127.0.0.1:8000';\nasync function safeRequest(promise) {\n  try {\n    const resp = await promise;\n    return resp.data;\n  } catch (err) {\n    // axios error: try to extract server response\n    if (err.response && err.response.data) {\n      return err.response.data;\n    }\n    return {\n      success: false,\n      error: err.message || 'Error de red'\n    };\n  }\n}\nexport async function listCajas(params = {}) {\n  return safeRequest(axios.get(`${API_BASE}/api/caja/`, {\n    params\n  }));\n}\nexport async function aperturaCaja(payload) {\n  return safeRequest(axios.post(`${API_BASE}/api/caja/apertura/`, payload));\n}\nexport async function cierreCaja(id_caja, payload) {\n  return safeRequest(axios.post(`${API_BASE}/api/caja/${id_caja}/cierre/`, payload));\n}\nexport async function getCajaDetail(id_caja) {\n  return safeRequest(axios.get(`${API_BASE}/api/caja/${id_caja}/`));\n}\nexport async function addIngreso(id_caja, payload) {\n  return safeRequest(axios.post(`${API_BASE}/api/caja/${id_caja}/ingresos/`, payload));\n}\nexport async function addEgreso(id_caja, payload) {\n  return safeRequest(axios.post(`${API_BASE}/api/caja/${id_caja}/egresos/`, payload));\n}\nexport async function listMetodosCobro() {\n  return safeRequest(axios.get(`${API_BASE}/api/caja/metodos-cobro/`));\n}","map":{"version":3,"names":["axios","API_BASE","process","env","REACT_APP_API_URL","safeRequest","promise","resp","data","err","response","success","error","message","listCajas","params","get","aperturaCaja","payload","post","cierreCaja","id_caja","getCajaDetail","addIngreso","addEgreso","listMetodosCobro"],"sources":["C:/Users/Kalel/Desktop/cero/proyecto_02/frontend/src/api/cajasApi.js"],"sourcesContent":["\r\nimport axios from 'axios';\r\n\r\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://127.0.0.1:8000';\r\n\r\nasync function safeRequest(promise) {\r\n  try {\r\n    const resp = await promise;\r\n    return resp.data;\r\n  } catch (err) {\r\n    // axios error: try to extract server response\r\n    if (err.response && err.response.data) {\r\n      return err.response.data;\r\n    }\r\n    return { success: false, error: err.message || 'Error de red' };\r\n  }\r\n}\r\n\r\nexport async function listCajas(params = {}) {\r\n  return safeRequest(axios.get(`${API_BASE}/api/caja/`, { params }));\r\n}\r\n\r\nexport async function aperturaCaja(payload) {\r\n  return safeRequest(axios.post(`${API_BASE}/api/caja/apertura/`, payload));\r\n}\r\n\r\nexport async function cierreCaja(id_caja, payload) {\r\n  return safeRequest(axios.post(`${API_BASE}/api/caja/${id_caja}/cierre/`, payload));\r\n}\r\n\r\nexport async function getCajaDetail(id_caja) {\r\n  return safeRequest(axios.get(`${API_BASE}/api/caja/${id_caja}/`));\r\n}\r\n\r\nexport async function addIngreso(id_caja, payload) {\r\n  return safeRequest(axios.post(`${API_BASE}/api/caja/${id_caja}/ingresos/`, payload));\r\n}\r\n\r\nexport async function addEgreso(id_caja, payload) {\r\n  return safeRequest(axios.post(`${API_BASE}/api/caja/${id_caja}/egresos/`, payload));\r\n}\r\n\r\nexport async function listMetodosCobro() {\r\n  return safeRequest(axios.get(`${API_BASE}/api/caja/metodos-cobro/`));\r\n}\r\n\r\n"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAEzE,eAAeC,WAAWA,CAACC,OAAO,EAAE;EAClC,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMD,OAAO;IAC1B,OAAOC,IAAI,CAACC,IAAI;EAClB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZ;IACA,IAAIA,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACF,IAAI,EAAE;MACrC,OAAOC,GAAG,CAACC,QAAQ,CAACF,IAAI;IAC1B;IACA,OAAO;MAAEG,OAAO,EAAE,KAAK;MAAEC,KAAK,EAAEH,GAAG,CAACI,OAAO,IAAI;IAAe,CAAC;EACjE;AACF;AAEA,OAAO,eAAeC,SAASA,CAACC,MAAM,GAAG,CAAC,CAAC,EAAE;EAC3C,OAAOV,WAAW,CAACL,KAAK,CAACgB,GAAG,CAAC,GAAGf,QAAQ,YAAY,EAAE;IAAEc;EAAO,CAAC,CAAC,CAAC;AACpE;AAEA,OAAO,eAAeE,YAAYA,CAACC,OAAO,EAAE;EAC1C,OAAOb,WAAW,CAACL,KAAK,CAACmB,IAAI,CAAC,GAAGlB,QAAQ,qBAAqB,EAAEiB,OAAO,CAAC,CAAC;AAC3E;AAEA,OAAO,eAAeE,UAAUA,CAACC,OAAO,EAAEH,OAAO,EAAE;EACjD,OAAOb,WAAW,CAACL,KAAK,CAACmB,IAAI,CAAC,GAAGlB,QAAQ,aAAaoB,OAAO,UAAU,EAAEH,OAAO,CAAC,CAAC;AACpF;AAEA,OAAO,eAAeI,aAAaA,CAACD,OAAO,EAAE;EAC3C,OAAOhB,WAAW,CAACL,KAAK,CAACgB,GAAG,CAAC,GAAGf,QAAQ,aAAaoB,OAAO,GAAG,CAAC,CAAC;AACnE;AAEA,OAAO,eAAeE,UAAUA,CAACF,OAAO,EAAEH,OAAO,EAAE;EACjD,OAAOb,WAAW,CAACL,KAAK,CAACmB,IAAI,CAAC,GAAGlB,QAAQ,aAAaoB,OAAO,YAAY,EAAEH,OAAO,CAAC,CAAC;AACtF;AAEA,OAAO,eAAeM,SAASA,CAACH,OAAO,EAAEH,OAAO,EAAE;EAChD,OAAOb,WAAW,CAACL,KAAK,CAACmB,IAAI,CAAC,GAAGlB,QAAQ,aAAaoB,OAAO,WAAW,EAAEH,OAAO,CAAC,CAAC;AACrF;AAEA,OAAO,eAAeO,gBAAgBA,CAAA,EAAG;EACvC,OAAOpB,WAAW,CAACL,KAAK,CAACgB,GAAG,CAAC,GAAGf,QAAQ,0BAA0B,CAAC,CAAC;AACtE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}